<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Moose::Cookbook Moose(0.79) - Japan Perl Association ドキュメント和訳プロジェクト</title>
<link rel="stylesheet" type="text/css" href="http://lazy-css.org/css/style.css" />
</head>
<body>
<h1>Moose::Cookbook</h1>
<div class="path" id="path"><a href="/">HOME</a> &gt; <a href="/Moose/Cookbook.html">Moose::Cookbook</a></div><div class="pod">
<!-- INDEX START -->

<ul class="list-index"><li><a href="#">題名</a></li>
<li><a href="#-2">本文</a></li>
<li><a href="#-3">レシピ</a>
<ul>
<li>
<ul><li><a href="#Moose">Mooseの基本</a></li>
<li><a href="#Moose-2">Mooseのロール</a></li>
<li><a href="#Moose-3">メタMoose</a></li>
<li><a href="#Moose-4">Mooseを拡張する</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#-4">おまけ</a></li>
<li><a href="#-5">参照</a></li>
<li><a href="#-6">作者</a></li>
<li><a href="#COPYRIGHT_AND_LICENSE">COPYRIGHT AND LICENSE</a>
</li>
</ul><!-- INDEX END -->

<h2 id="">題名</h2>
<div id="CONTENT">
<p>Moose::Cookbook - Mooseの調理法</p>

</div>
<h2 id="-2">本文</h2>
<div id="CONTENT-2">
<p>このクックブックはMooseのさまざまな機能を紹介するレシピを集めたものです。ほとんどのレシピはある機能を紹介するコードを提示してからその詳細を説明するという形になっています。</p>
<p>まだの方はおそらく先に<cite>Moose::Manual</cite>を読んだ方がよいでしょう。マニュアルの方ではあまりコードを使わずにMooseのコンセプトを説明しています。</p>

</div>
<h2 id="-3">レシピ</h2>
<div id="CONTENT-3">

</div>
<h3 id="Moose">Mooseの基本</h3>
<div id="Moose_CONTENT">
<p>ここでは、簡単なアトリビュートの宣言から、遅延評価、型、型変換、メソッドモディファイアといった、より強力な機能まで、Mooseの機能の概要をしっかり紹介していきます。</p>
<dl>
	<dt><cite>Moose::Cookbook::Basics::Recipe1</cite> - (毎度おなじみ) <strong>Point</strong>の例</dt>
	<dd>
		<p>Mooseを使った簡単なクラスの例です。Mooseのアトリビュートやサブクラス化について説明します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe2</cite> - 簡単な<strong>BankAccount</strong>の例</dt>
	<dd>
		<p>もう少し複雑なMooseクラスの例です。サブクラスでメソッドモディファイアを利用する方法を説明します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe3</cite> - 遅延評価を行う<strong>BinaryTree</strong>の例</dt>
	<dd>
		<p>型、ウィークリファレンス、断定（「このオブジェクトにfooはありますか」）、デフォルト値、遅延評価、トリガといった、アトリビュートのいくつかの機能を説明します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe4</cite> - サブタイプと簡単な<strong>Company</strong>クラス階層のモデリング</dt>
	<dd>
		<p>独自の型の作り方や使い方、<code>BUILD</code>メソッド、サブクラスの中での<code>override</code>の使い方を紹介します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe5</cite> - サブタイプふたたび、<strong>Request</strong>クラスでの型変換</dt>
	<dd>
		<p>型変換の使い方など、型の使用例の続きです。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe6</cite> - augment/innerの例</dt>
	<dd>
		<p><code>augment</code>というメソッドモディファイアの使い方を説明します。これは通常のメソッドオーバーライドのやり方を「ひっくり返す」ものです。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe7</cite> - 不変化によるMooseの高速化</dt>
	<dd>
		<p>クラスを不変化するとアクセサやオブジェクトの生成が非常に速くなります。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe8</cite> - ビルダーメソッドとlazy_build</dt>
	<dd>
		<p>builder機能を使うと、アトリビュートのデフォルト値を継承やロールの合成を利用して用意できるようになります。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe9</cite> - 演算子のオーバーロード、サブタイプ、型変換</dt>
	<dd>
		<p>繁殖の際に目の色が決まる様子をまねながら、演算子のオーバーロードやサブタイプ、型変換の使い方を説明します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe10</cite> - BUILDARGSとBUILDを使ってオブジェクトの生成に割り込む</dt>
	<dd>
		<p>このレシピでは<code>BUILDARGS</code>と<code>BUILD</code>を使ってオブジェクトの生成プロセスに割り込む方法を説明します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Basics::Recipe11</cite> - Mooseを使っていないベースクラスを拡張する</dt>
	<dd>
		<p>このレシピでは、Mooseをいっさい利用していない<cite>DateTime</cite>モジュールのサブクラスを、Mooseベースで作成します。</p>
	</dd>
</dl>

</div>
<h3 id="Moose-2">Mooseのロール</h3>
<div id="Moose_CONTENT-2">
<p>ここではMooseのロールの使い方を紹介します。</p>
<dl>
	<dt><cite>Moose::Cookbook::Roles::Recipe1</cite> - Moose::Roleの例</dt>
	<dd>
		<p>ときにはトレートやミクスインとも呼ばれるロールの説明をします。ロールはサブクラス化とはまったく異なる方法でコードを再利用する手段を提供するものです。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Roles::Recipe2</cite> - 高度なロールの合成――メソッドの排除と別名</dt>
	<dd>
		<p>ときにはロールの一部をクラスに組み込みたいだけとか、ロールをまるごと組み込みたいのにロールのメソッドとクラスのメソッドが衝突してしまうということもあります。メソッドを排除したり別名をつけたりすると、そういった問題に対処できます。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Roles::Recipe3</cite> - オブジェクトのインスタンスにロールを組み込む</dt>
	<dd>
		<p>このレシピでは既存のオブジェクトのインスタンスにロールを組み込んでみます。</p>
	</dd>
</dl>

</div>
<h3 id="Moose-3">メタMoose</h3>
<div id="Moose_CONTENT-3">
<p>ここでは独自のメタクラスの書き方を紹介します。独自のメタクラスを使うとMooseが提供しているオブジェクトシステムを拡張できます。</p>
<dl>
	<dt><cite>Moose::Cookbook::Meta::Recipe1</cite> - メタの世界へようこそ（メタを使うわけ）</dt>
	<dd>
		<p>この「メタ」というのはいったい何なのだろう、なぜ気にする必要があるのだろうと思われた方は、こちらの「レシピ」をご覧ください。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Meta::Recipe2</cite> - メタアトリビュート、ラベル付きのアトリビュート</dt>
	<dd>
		<p>Mooseを拡張する方法のひとつは、独自のアトリビュートメタクラスを提供することです。アトリビュートメタクラスを使うと、(<code>has</code>による)アトリビュートの宣言や振る舞いを拡張して、アトリビュートに機能を追加することができます。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Meta::Recipe3</cite> - アトリビュートのトレートを利用したラベルの実装</dt>
	<dd>
		<p>Mooseのアトリビュートメタクラスを拡張して機能を追加するのはすばらしいやり方ですが、アトリビュートが持てるメタクラスはひとつしかありません。アトリビュートのメタクラスにロールを組み込めば、アトリビュートの機能を合成できるようになります。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Meta::Recipe4</cite> - メタクラスに「table」アトリビュートを追加する</dt>
	<dd>
		<p>もっとクラスの情報を保存したい場合は、<code>Moose::Meta::Class</code>を拡張する必要が出てきます。そうするのは簡単ですが、そうするとおそらくシュガー関数も提供したくなるでしょうから、<cite>Moose::Cookbook::Extending::Recipe2</cite>もあわせてご覧ください。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Meta::Recipe5</cite> - メタクラスのトレートとしての「table」アトリビュート</dt>
	<dd>
		<p>このレシピでは前のレシピで見たクラスのメタクラスを、メタクラスのトレートとして再実装します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Meta::Recipe6</cite> - メソッドメタクラスを使ってメソッドをパブリックにしたりプライベートにしたりする</dt>
	<dd>
		<p>このレシピではメソッドのプライベート化を実装した独自のメソッドメタクラスを紹介します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Meta::Recipe7</cite> - グロブリファレンスをメタインスタンスのクラスにする</dt>
	<dd>
		<p>このレシピでは独自のメタインスタンスクラスを作成する例を紹介します。メタインスタンスというのはオブジェクトのインスタンスの内部構造を決定して、アトリビュートスロットへのアクセスを提供するものです。</p>
	</dd>
	<dt>Moose::Cookbook::Meta::Recipe8 - 不変化に割り込む (TODO)</dt>
	<dd>
		<p>Mooseには「不変化」という機能があります。クラス（アトリビュートやロールなど）を定義したあとで<code>__PACKAGE__-&gt;meta()-&gt;make_immutable()</code>を呼ぶと、Mooseにオブジェクトの生成やアトリビュートのアクセスなどを最適化させることができます。</p>
		<p>独自のメタクラスを作成する場合、不変化システムに割り込む必要があるかもしれません。これはメタクラスのクラスやメタメソッドのクラス、それからおそらくメタインスタンスのクラスなど、さまざまな箇所に影響を与えます。</p>
		<p>このレシピでは不変化を適切に処理する拡張モジュールの書き方を紹介します。</p>
	</dd>
</dl>

</div>
<h3 id="Moose-4">Mooseを拡張する</h3>
<div id="Moose_CONTENT-4">
<p>ここではMooseを拡張する方法をもういくつか取り上げます。自分で<code>MooseX</code>モジュールを書こうと思っている方には役に立つはずです。</p>
<dl>
	<dt><cite>Moose::Cookbook::Extending::Recipe1</cite> - Mooseの拡張モジュール概観</dt>
	<dd>
		<p>Mooseを拡張する方法はたくさんあります。このレシピではそれぞれの方法の概要を説明して、それぞれどんなときに使うのがよいかを紹介します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Extending::Recipe2</cite> - オブジェクトのベースクラス用のロールを用意する</dt>
	<dd>
		<p>ベースオブジェクトクラスの拡張モジュールにはロールとして実装できるものがたくさんあります。この例では、抽象的な<code>MooseX::Debugging</code>モジュールを使っているクラスならどれにでも組み込める、ベースオブジェクトクラスのデバッグ用ロールの作り方を紹介します。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Extending::Recipe3</cite> - 別のベースオブジェクトクラスを用意する</dt>
	<dd>
		<p>メタを拡張するだけでなく、別のベースオブジェクトクラスを用意したくなることもあるかもしれません。また、何度も何度も<code>extends 'MyApp::Base'</code>とタイプしなくてもすべてのクラスに機能を追加したい場合もあるでしょう。</p>
	</dd>
	<dt><cite>Moose::Cookbook::Extending::Recipe4</cite> - Moose.pmのようにMoose風のシュガー関数を提供する</dt>
	<dd>
		<p>このレシピでは<code>Moose.pm</code>のかわりになるものを用意するやり方を紹介します。<code>MooseX</code>モジュールのAPIの一部として使いたい場合もあるでしょう（とりわけ新しいメタクラスのクラスやベースオブジェクトクラスをデフォルトにしたい場合）。</p>
	</dd>
</dl>

</div>
<h2 id="-4">おまけ</h2>
<div id="CONTENT-4">
<dl>
	<dt><cite>Moose::Cookbook::Snack::Keywords</cite></dt>
	<dt><cite>Moose::Cookbook::Snack::Types</cite></dt>
</dl>

</div>
<h2 id="-5">参照</h2>
<div id="CONTENT-5">
<dl>
	<dt><a href="http://www.gsph.com/index.php?Lang=En&amp;ID=291">http://www.gsph.com/index.php?Lang=En&amp;ID=291</a></dt>
</dl>

</div>
<h2 id="-6">作者</h2>
<div id="CONTENT-6">
<p>Stevan Little &lt;stevan@iinteractive.com&gt;</p>

</div>
<h2 id="COPYRIGHT_AND_LICENSE">COPYRIGHT AND LICENSE</h2>
<div id="COPYRIGHT_AND_LICENSE_CONTENT">
<p>Copyright 2006-2009 by Infinity Interactive, Inc.</p>
<p><a href="http://www.iinteractive.com">http://www.iinteractive.com</a></p>
<p>This library is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.</p>

</div>
</div>
<div class="head">
	<div class="logo">
	<img src="http://lazy-css.org/css/img/logo.png">
	</div>
	<ul class="global-navi">

	<li><img src="http://lazy-css.org/css/img/g_home.png" alt="ホーム"></li>
	<li><img src="http://lazy-css.org/css/img/g_news.png" alt="ニュース"></li>
	<li><img src="http://lazy-css.org/css/img/g_blog.png" alt="ブログ"></li>
	</ul>
</div>
<ul class="sub-navi">
<li><img src="http://lazy-css.org/css/img/inq.png" alt="お問い合わせ"></li>
</ul>

<div class="footer">
<ul class="footer-navi">
	<li>リンク</li>
	<li>リンク</li>
	<li>リンク</li>
	<li>リンク</li>
</ul>
<address>&copy; copyright 2009 jpa all right reserved.</address>
</div>
</body>
</html>

